import{a as ee,b as te,c as ne,d as ie,e as oe}from"./chunk-LC6I3I5J.js";import"./chunk-XAJVX2A3.js";import"./chunk-QORVXZN2.js";import"./chunk-QNSUH6NR.js";import"./chunk-4PGTP63H.js";import"./chunk-OSWVMQST.js";import"./chunk-HC6MZPB3.js";import"./chunk-UOYVAZDW.js";import"./chunk-FERD25SW.js";import"./chunk-CBQJGW6X.js";import"./chunk-U75BUNB3.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-OKKM2FCO.js";import"./chunk-MCRJI3T3.js";import"./chunk-QL4XLWS4.js";import"./chunk-DNVHY64Q.js";import{$a as H,C as f,D as u,F as U,G as $,H as o,I as r,J as c,O as I,P as _,Ua as C,Va as y,W as a,Wa as z,Xa as W,Y as p,Ya as j,Za as A,_ as T,_a as w,a as P,ab as L,bb as B,cb as R,db as Y,e as F,eb as G,fb as J,gb as x,h as m,ha as S,hb as K,ib as E,lb as N,nb as V,ob as q,r as s,rb as Q,sb as X,ub as Z,v as h,vb as k,wb as D,z as g}from"./chunk-KISELT5E.js";import"./chunk-MCCWSKCU.js";import"./chunk-AQKELFVF.js";import"./chunk-O7EUVMJ2.js";import"./chunk-RSW4QUPJ.js";import"./chunk-F7XBNY6P.js";import"./chunk-VK3YEIQT.js";import"./chunk-OONLZD66.js";import"./chunk-2M7HLUHN.js";import"./chunk-4U6PRYVA.js";import"./chunk-46RS7FHX.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{g as v}from"./chunk-AHMUXBFN.js";var O=(()=>{let t=class t{constructor(){this.http=m(S),this.configService=m(D),this.API_URL="https://api.mcstatus.io/v2/status/java",this.serverStatus$=new P(null),this.configService.getConfigObservable().subscribe(i=>{var l,e;(l=i==null?void 0:i.server_info)!=null&&l.ip&&((e=i==null?void 0:i.server_info)!=null&&e.port)&&(console.log("starting server status ping"),this.startServerStatusPing(i.server_info.ip,i.server_info.port))})}pingServerOnce(i,l){return v(this,null,function*(){try{let e=l?`${this.API_URL}/${i}:${l}`:`${this.API_URL}/${i}`,b=yield this.http.get(e).toPromise();return this.serverStatus$.next(b),console.log("ping server status ping",b),b}catch(e){return console.error("Erreur lors du ping du serveur:",e),this.serverStatus$.next(null),null}})}startServerStatusPing(i,l,e=3e4){this.pingInterval&&this.stopServerStatusPing(),this.pingInterval=setInterval(()=>v(this,null,function*(){yield this.pingServerOnce(i,l)}),e),this.pingServerOnce(i,l).then()}stopServerStatusPing(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}getServerStatusObservable(){return this.serverStatus$.asObservable()}getServerStatus(){return this.serverStatus$.getValue()}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function se(n,t){n&1&&(o(0,"ion-chip",0),c(1,"ion-icon",2),o(2,"ion-label"),a(3," Online "),r()())}function ce(n,t){n&1&&(o(0,"ion-chip",1),c(1,"ion-icon",3),o(2,"ion-label"),a(3," Offline "),r()())}function de(n,t){if(n&1&&g(0,se,4,0,"ion-chip",0)(1,ce,4,0,"ion-chip",1),n&2){let d=_();u(d.serverInfos.online?0:-1),s(),u(d.serverInfos.online?-1:1)}}var re=(()=>{let t=class t{constructor(){this.mcUtils=m(O),this.serverInfos={}}ngOnInit(){this.mcUtils.getServerStatusObservable().subscribe(i=>{this.serverInfos=i})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=h({type:t,selectors:[["app-header-server-status"]],decls:1,vars:1,consts:[["color","success",2,"background","var(--ion-color-secondary)"],["color","danger"],["name","ellipse","color","success",2,"margin-right","5px"],["name","ellipse","color","danger",2,"margin-right","5px"]],template:function(l,e){l&1&&g(0,de,2,2),l&2&&u(e.serverInfos?0:-1)},dependencies:[ie,ee,te,ne],encapsulation:2});let n=t;return n})();var me=(n,t)=>t.id;function pe(n,t){n&1&&c(0,"div",5)}function ue(n,t){n&1&&c(0,"div",6)}function fe(n,t){n&1&&c(0,"div",7)}function ge(n,t){if(n&1&&(o(0,"p"),a(1),r()),n&2){let d=_().$implicit;s(),p(" ",d.game.name," ")}}function ve(n,t){n&1&&c(0,"ion-icon",9)}function he(n,t){if(n&1&&(o(0,"ion-item",2)(1,"ion-avatar",4),g(2,pe,1,0,"div",5)(3,ue,1,0,"div",6)(4,fe,1,0,"div",7),c(5,"ion-img",8),r(),o(6,"ion-label"),a(7),g(8,ge,2,1,"p"),r(),g(9,ve,1,0,"ion-icon",9),r()),n&2){let d=t.$implicit;s(2),u(d.status==="idle"?2:-1),s(),u(d.status==="online"?3:-1),s(),u(d.status==="dnd"?4:-1),s(),f("src",d.avatar_url),s(2),p(" ",d.username.slice(0,15)," "),s(),u(d.game?8:-1),s(),u(d.game?9:-1)}}var le=(()=>{let t=class t{constructor(){this.inviteUrl="",this.http=m(S)}ngOnInit(){this.getDiscordData()}openDiscordLink(i){window.open(i,"blank_")}getDiscordData(){this.http.get(`https://discord.com/api/guilds/${this.discordId}/widget.json`).subscribe(i=>{this.discordInfos=i})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=h({type:t,selectors:[["app-discord-widget"]],inputs:{discordId:"discordId",inviteUrl:"inviteUrl"},decls:15,vars:1,consts:[["name","logo-discord",2,"color","#5662f4"],[2,"overflow-y","scroll","max-height","30vh"],["lines","none"],["fill","outline","expand","block",3,"click"],["slot","start"],[2,"height","10px","width","10px","border-radius","50%","background","orange","position","absolute","top","10%","left","5%"],[2,"height","10px","width","10px","border-radius","50%","background","#6aff00","position","absolute","top","10%","left","5%"],[2,"height","10px","width","10px","border-radius","50%","background","#ff2600","position","absolute","top","10%","left","5%"],[3,"src"],["name","game-controller"]],template:function(l,e){l&1&&(o(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),c(3,"ion-icon",0),o(4,"b"),a(5," DISCORD "),r()(),o(6,"ion-card-subtitle")(7,"b"),a(8),r(),a(9," members online "),r()(),o(10,"ion-card-content",1),U(11,he,10,7,"ion-item",2,me),r(),o(13,"ion-button",3),I("click",function(){return e.openDiscordLink(e.inviteUrl||"")}),a(14,"Join the discord"),r()()),l&2&&(s(8),p(" ",e.discordInfos==null?null:e.discordInfos.presence_count," "),s(3),$(e.discordInfos==null?null:e.discordInfos.members))},dependencies:[W,A,H,k,w,j,K,C,x,E,y],styles:["*[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px;width:10px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:5px;background-color:#dfe9eb1a}*[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background-color:#b8c0c21a}*[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background-color:#b8c0c21a}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;background-color:var(--ion-color-primary)}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--ion-color-primary)}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background-color:var(--ion-color-primary)}"]});let n=t;return n})();var ae=()=>[],Je=(()=>{let t=class t{constructor(){this.configService=m(D),this.alertController=m(Z),this.mcUtils=m(O),this.serverInfos={}}ngOnInit(){this.mcUtils.getServerStatusObservable().subscribe(i=>{this.serverInfos=i}),this.configService.getConfigObservable().subscribe(i=>{this.config=i})}copyToClipboard(i){return v(this,null,function*(){console.log(i);try{yield navigator.clipboard.writeText(i),this.showAlert("Success","Text has been copied to clipboard!")}catch(l){console.log(l),this.showAlert("Error","Failed to copy text to clipboard!")}})}showAlert(i,l){return v(this,null,function*(){yield(yield this.alertController.create({header:i,message:l,buttons:["OK"]})).present()})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=h({type:t,selectors:[["app-welcome"]],decls:60,vars:16,consts:[["slot","start"],["color","secondary","auto-hide","false"],["alt","",3,"src"],["color","secondary"],["slot","end"],["fullscreen","true"],["id","logo"],["alt","",2,"height","20vh",3,"src"],["id","container"],[1,"ion-justify-content-center"],["size-xl","4","size-md","8","size-xs","12"],["color","primary",3,"click"],[3,"iconSize","socials"],["color","danger",1,"ion-padding"],["name","warning","size","large"],[1,"ion-hide-lg-down",2,"position","fixed","top","20%","right","1%","width","20vw",3,"inviteUrl","discordId"],["size-xs","12","size-md","6","size-xl","4",1,"ion-text-center"],["size-xs","12","size-md","6","size-xl","4"],[1,"ion-text-center"]],template:function(l,e){l&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),c(3,"ion-menu-button",1),r(),o(4,"ion-avatar",0),c(5,"ion-img",2),r(),o(6,"ion-title",3)(7,"b"),a(8),r()(),o(9,"ion-buttons",4),c(10,"app-header-server-status"),r()()(),o(11,"ion-content",5)(12,"div",6),c(13,"ion-img",7),r(),o(14,"div",8)(15,"ion-grid")(16,"ion-row",9)(17,"ion-col",10)(18,"h1"),a(19),r(),o(20,"ion-card-subtitle")(21,"b"),a(22),r(),a(23," players currently playing "),r(),o(24,"p"),a(25),r(),o(26,"ion-button",11),I("click",function(){return e.copyToClipboard((e.config==null||e.config.server_info==null?null:e.config.server_info.ip)||"")}),a(27),r(),o(28,"p"),c(29,"app-socials-display",12),r(),o(30,"ion-chip",13),c(31,"ion-icon",14),o(32,"ion-label")(33,"h5")(34,"strong"),a(35,"Warning:"),r(),a(36," This website is "),o(37,"b"),a(38,"not an official"),r(),a(39," Mojang or Microsoft product. We are "),o(40,"b"),a(41,"not affiliated"),r(),a(42," with them in any way. "),r()(),c(43,"ion-icon",14),r()()()()(),c(44,"app-discord-widget",15),r(),o(45,"ion-footer")(46,"ion-grid")(47,"ion-row")(48,"ion-col",16)(49,"ion-note"),a(50," \xA9\uFE0F All right reserved to "),o(51,"b"),a(52),r()()(),o(53,"ion-col",17)(54,"ion-card-subtitle",18),a(55," Created with \u{1F497} by "),o(56,"b"),a(57," 3DE Team "),r()()(),o(58,"ion-col",16),c(59,"app-socials-display",12),r()()()()),l&2&&(s(5),f("src",e.config==null||e.config.images==null?null:e.config.images.logo),s(3),p(" ",e.config==null||e.config.app_info==null?null:e.config.app_info.name," "),s(5),f("src",e.config==null||e.config.images==null?null:e.config.images.logo),s(6),p(" Welcome to ",e.config==null||e.config.app_info==null?null:e.config.app_info.name," "),s(3),p(" ",e.serverInfos==null||e.serverInfos.players==null?null:e.serverInfos.players.online," "),s(3),p(" ",e.config==null||e.config.text==null?null:e.config.text.welcomeMessage," "),s(2),p(" ",e.config==null||e.config.server_info==null?null:e.config.server_info.ip," "),s(2),f("iconSize","large")("socials",(e.config==null?null:e.config.socials)||T(14,ae)),s(15),f("inviteUrl",e.config==null||e.config.discord_module==null?null:e.config.discord_module.invitation_link)("discordId",e.config==null||e.config.discord_module==null?null:e.config.discord_module.discordID),s(8),p(" ",e.config==null||e.config.app_info==null?null:e.config.app_info.name," "),s(7),f("iconSize","small")("socials",(e.config==null?null:e.config.socials)||T(15,ae)))},dependencies:[R,J,X,z,N,Q,x,B,q,G,y,Y,w,re,oe,V,L,C,E,k,le],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#logo[_ngcontent-%COMP%]{text-align:center;position:relative;left:0;right:0;top:20%;transform:translateY(-50%)}"]});let n=t;return n})();export{Je as WelcomePage};
